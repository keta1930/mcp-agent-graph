# MCP Agent Graph (MAG)

[English](README.md) | ä¸­æ–‡

> MCP Agent Graph (MAG) æ˜¯ä¸€ä¸ª agent å¼€å‘æ¡†æ¶,ç”¨äºå¿«é€Ÿæ„å»ºagentç³»ç»Ÿã€‚æœ¬é¡¹ç›®åŸºäºå›¾ã€èŠ‚ç‚¹ã€mcpæ¥å¿«é€Ÿæ„å»ºå¤æ‚Agentç³»ç»Ÿã€‚

ğŸ“š [æ–‡æ¡£](https://keta1930.github.io/mcp-agent-graph/#) | ğŸ“¦ [PyPI åŒ…](https://pypi.org/project/mcp-agent-graph/)


<div align="center">

![MAG ç³»ç»Ÿæ¶æ„](appendix/image.png)

</div>

## ğŸ“š ç›®å½•

- [ğŸš€ éƒ¨ç½²æŒ‡å—](#-éƒ¨ç½²æŒ‡å—)
  - [æ–¹æ¡ˆä¸€: ä½¿ç”¨ PyPI å®‰è£…(æ¨è)](#æ–¹æ¡ˆä¸€ä½¿ç”¨-pypi-å®‰è£…æ¨è)
  - [æ–¹æ¡ˆäºŒ: ä½¿ç”¨ Conda](#æ–¹æ¡ˆäºŒä½¿ç”¨-conda)
  - [æ–¹æ¡ˆä¸‰: ä½¿ç”¨ uv](#æ–¹æ¡ˆä¸‰ä½¿ç”¨-uv)
  - [å‰ç«¯éƒ¨ç½²](#å‰ç«¯éƒ¨ç½²)
- [âœ¨ æ ¸å¿ƒç‰¹æ€§](#-æ ¸å¿ƒç‰¹æ€§)
- [ğŸ—ï¸ å¼€å‘è¯¦æƒ…](#ï¸-å¼€å‘è¯¦æƒ…)
- [ğŸ–¼ï¸ å‰ç«¯åŠŸèƒ½å±•ç¤º](#ï¸-å‰ç«¯åŠŸèƒ½å±•ç¤º)
  - [å¯è§†åŒ–æ™ºèƒ½ä½“å›¾ç¼–è¾‘å™¨](#å¯è§†åŒ–æ™ºèƒ½ä½“å›¾ç¼–è¾‘å™¨)
  - [MCP æœåŠ¡å™¨é›†æˆ](#mcp-æœåŠ¡å™¨é›†æˆ)
  - [åµŒå¥—å›¾(å›¾å³èŠ‚ç‚¹)](#åµŒå¥—å›¾å›¾å³èŠ‚ç‚¹)
  - [å›¾åˆ° MCP æœåŠ¡å™¨çš„å¯¼å‡º](#å›¾åˆ°-mcp-æœåŠ¡å™¨çš„å¯¼å‡º)
- [ğŸ“– å¼•ç”¨](#-å¼•ç”¨)
- [â­ æ˜Ÿæ ‡å†å²](#-æ˜Ÿæ ‡å†å²)

## ğŸš€ éƒ¨ç½²æŒ‡å—

### æ–¹æ¡ˆä¸€:ä½¿ç”¨ PyPI å®‰è£…(æ¨è)

```bash
# ç›´æ¥ä» PyPI å®‰è£… mag åŒ…
pip install mcp-agent-graph

# æŸ¥çœ‹ç¤ºä¾‹
# å…‹éš†ä»“åº“ä»¥è·å–ç¤ºä¾‹ä»£ç 
git clone https://github.com/keta1930/mcp-agent-graph.git
cd mcp-agent-graph/sdk_demo
```

> **æ›´æ–°**:ä» v1.3.1 ç‰ˆæœ¬å¼€å§‹,æˆ‘ä»¬æ­£å¼å‘å¸ƒäº† Python SDKã€‚ç°åœ¨å¯ä»¥ç›´æ¥é€šè¿‡ pip å®‰è£…å¹¶ä½¿ç”¨ã€‚

> **æç¤º**:æˆ‘ä»¬åœ¨sdk_demoç›®å½•ä¸‹æä¾›äº†ä½¿ç”¨ç¤ºä¾‹ã€‚

### æ–¹æ¡ˆäºŒ:ä½¿ç”¨ Conda

```bash
# åˆ›å»ºå¹¶æ¿€æ´» conda ç¯å¢ƒ
conda create -n mag python=3.11
conda activate mag

# å…‹éš†ä»“åº“
git clone https://github.com/keta1930/mcp-agent-graph.git
cd mcp-agent-graph

# å®‰è£…ä¾èµ–
pip install -r requirements.txt

# è¿è¡Œä¸»åº”ç”¨
cd mag
python main.py
```

### æ–¹æ¡ˆä¸‰:ä½¿ç”¨ uvï¼ˆæ¨èï¼‰

```bash
# å¦‚æœæ²¡æœ‰ uv,å…ˆå®‰è£…
å®‰è£…æŒ‡å—: https://docs.astral.sh/uv/getting-started/installation/

# å…‹éš†ä»“åº“
git clone https://github.com/keta1930/mcp-agent-graph.git
cd mcp-agent-graph

# å®‰è£…ä¾èµ–
uv sync
.venv\Scripts\activate.ps1 (powershell)
.venv\Scripts\activate.bat (cmd)

# ç›´æ¥ä½¿ç”¨ uv è¿è¡Œ
cd mag
uv run python main.py
```

åç«¯æœåŠ¡å™¨å°†åœ¨ç«¯å£ 9999 ä¸Šè¿è¡Œ,MCP å®¢æˆ·ç«¯åœ¨ç«¯å£ 8765 ä¸Šè¿è¡Œã€‚

### å‰ç«¯éƒ¨ç½²

```bash
# å¯¼èˆªåˆ°å‰ç«¯ç›®å½•
cd frontend

# å®‰è£…ä¾èµ–
npm install

# è¿è¡Œå¼€å‘æœåŠ¡å™¨
npm run dev
```

å‰ç«¯å¼€å‘æœåŠ¡å™¨å°†åœ¨ç«¯å£ 5173 ä¸Šè¿è¡Œã€‚

## âœ¨ æ ¸å¿ƒç‰¹æ€§

#### 1ï¸âƒ£ åŸºäºå›¾çš„ Agent å¼€å‘æ¡†æ¶
æä¾›ç›´è§‚çš„å¯è§†åŒ–ç¯å¢ƒ,è®©æ‚¨è½»æ¾è®¾è®¡å’Œæ„å»ºå¤æ‚çš„æ™ºèƒ½ä½“ç³»ç»Ÿã€‚

#### 2ï¸âƒ£ èŠ‚ç‚¹å³ Agent
å›¾ä¸­çš„æ¯ä¸ªèŠ‚ç‚¹éƒ½æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„æ™ºèƒ½ä½“,å¯ä»¥åˆ©ç”¨ MCP server çš„å·¥å…·èƒ½åŠ›å®Œæˆç‰¹å®šä»»åŠ¡ã€‚

#### 3ï¸âƒ£ å›¾åµŒå¥—å›¾(åˆ†å±‚ä¸–ç•Œ)
æ”¯æŒå°†æ•´ä¸ªå›¾ä½œä¸ºå¦ä¸€ä¸ªå›¾ä¸­çš„èŠ‚ç‚¹ä½¿ç”¨,å®ç°å±‚æ¬¡åŒ–çš„æ™ºèƒ½ä½“æ¶æ„,æ„å»º"Agentä¸­çš„Agent"ã€‚

#### 4ï¸âƒ£ å›¾è½¬ MCP Server
å°†ä»»ä½•å›¾å¯¼å‡ºä¸ºæ ‡å‡†çš„ MCP server Python è„šæœ¬,ä½¿å…¶å¯ä½œä¸ºç‹¬ç«‹å·¥å…·è¢«å…¶ä»–ç³»ç»Ÿè°ƒç”¨ã€‚

#### 5ï¸âƒ£ æ™ºèƒ½ä½“äº¤æ˜“ä¸ä¼ é€’
å°†å®Œæ•´çš„æ™ºèƒ½ä½“ç³»ç»Ÿä¸æ‰€æœ‰ä¾èµ–é¡¹(é…ç½®ã€æç¤ºè¯ã€æ–‡æ¡£)æ‰“åŒ…æˆè‡ªåŒ…å«çš„ã€å¯ç§»æ¤çš„å•å…ƒ,å¯ä»¥åœ¨ä¸åŒç¯å¢ƒä¹‹é—´è½»æ¾å…±äº«ã€ä¼ é€’å’Œéƒ¨ç½²ã€‚è‡ªåŠ¨æ–‡æ¡£ç”ŸæˆåŠŸèƒ½åˆ›å»ºå…¨é¢çš„READMEæ–‡ä»¶,ä½¿æ¥æ”¶è€…èƒ½å¤Ÿå¿«é€Ÿäº†è§£æ‚¨çš„æ™ºèƒ½ä½“çš„åŠŸèƒ½å’Œè¦æ±‚ã€‚æ­¤åŠŸèƒ½æä¾›äº†æ™ºèƒ½ä½“å¸‚åœºäº¤æ˜“ã€ç»„ç»‡å†…å…±äº«å’Œç»„ç»‡å¤–å…±äº«çš„è§£å†³æ–¹æ¡ˆã€‚

#### 6ï¸âƒ£ æ™ºèƒ½ä½“å¿«é€Ÿå¼€å‘
æœ¬é¡¹ç›®æä¾›äº†æç¤ºè¯æ¨¡ç‰ˆåŠŸèƒ½,å¯ä»¥å¿«é€Ÿç”Ÿæˆå¼€å‘æ™ºèƒ½ä½“çš„æç¤ºè¯æ¨¡ç‰ˆ,æ¨¡ç‰ˆè®©LLMæ›´å¥½åœ°ç†è§£æœ¬é¡¹ç›®,æ›´å¥½åœ°ç”ŸæˆèŠ‚ç‚¹å’Œå›¾ã€‚ç³»ç»Ÿå°†è‡ªåŠ¨è¯†åˆ«é¡¹ç›®å½“ä¸­æ³¨å†Œçš„modelå’Œmcp server,å¹¶åŒ…å«åœ¨æ¨¡ç‰ˆå½“ä¸­ã€‚
å®ç°:æç¤ºè¯æ¨¡ç‰ˆç”Ÿæˆ->éœ€æ±‚å¡«å…¥->LLMç”Ÿæˆå›¾->å¯¼å…¥å›¾->è¿è¡Œå›¾ çš„å¿«é€Ÿå¼€å‘æµç¨‹ã€‚

<details>
<summary>ğŸŒ ç³»ç»Ÿæ¶æ„</summary>

MAG éµå¾ª HOST-CLIENT-SERVER æ¶æ„:
- **HOST**:ä¸­å¤®æœåŠ¡,ç®¡ç†å›¾æ‰§è¡Œå¹¶åè°ƒå„ç»„ä»¶ä¹‹é—´çš„é€šä¿¡
- **CLIENT**:MCP å®¢æˆ·ç«¯,ä¸ MCP æœåŠ¡å™¨äº¤äº’
- **SERVER**:MCP æœåŠ¡å™¨,æä¾›ä¸“ä¸šå·¥å…·å’ŒåŠŸèƒ½

```
HOST  â†’ CLIENT  â†’ SERVER 
(å›¾) â†’ (æ™ºèƒ½ä½“) <==> (MCP æœåŠ¡å™¨)
```
</details>

## ğŸ—ï¸ å¼€å‘è¯¦æƒ…

å¦‚éœ€æŸ¥çœ‹è¯¦ç»†çš„å¼€å‘ä¿¡æ¯,åŒ…æ‹¬åŠŸèƒ½å®Œæ•´åˆ—è¡¨ã€Agenté…ç½®å‚è€ƒã€æ™ºèƒ½ä½“èŠ‚ç‚¹å‚æ•°ã€é…ç½®ç¤ºä¾‹ä»¥åŠé«˜çº§ä½¿ç”¨æŒ‡å—,è¯·æŸ¥çœ‹[å¼€å‘è¯¦æƒ…æ–‡æ¡£](appendix/intro_zh.md)ã€‚

## ğŸ–¼ï¸ å‰ç«¯åŠŸèƒ½å±•ç¤º

> å‰ç«¯ä¸ºV1.1.0ç‰ˆæœ¬,è¿˜æ²¡æœ‰è·Ÿè¿›åˆ°åç«¯çš„æ›´æ–°å†…å®¹ã€‚

### å¯è§†åŒ–æ™ºèƒ½ä½“å›¾ç¼–è¾‘å™¨

é€šè¿‡åœ¨å›¾ä¸­è¿æ¥èŠ‚ç‚¹æ¥å¯è§†åŒ–åœ°åˆ›å»ºæ™ºèƒ½ä½“å·¥ä½œæµã€‚æ¯ä¸ªèŠ‚ç‚¹ä»£è¡¨ä¸€ä¸ªå…·æœ‰è‡ªå·±é…ç½®ã€è¡Œä¸ºå’Œèƒ½åŠ›çš„æ™ºèƒ½ä½“ã€‚

***å›¾ç¼–è¾‘å™¨ç•Œé¢ - èŠ‚ç‚¹ä¸è¿æ¥çš„å¯è§†åŒ–è®¾è®¡***

![å›¾ç¼–è¾‘å™¨ç•Œé¢ - èŠ‚ç‚¹ä¸è¿æ¥çš„å¯è§†åŒ–è®¾è®¡](appendix/img_3.png)

***å›¾æ‰§è¡Œå™¨ç•Œé¢ - è¿è¡Œæ™ºèƒ½ä½“å·¥ä½œæµ***

![å›¾æ‰§è¡Œå™¨ç•Œé¢ - è¿è¡Œæ™ºèƒ½ä½“å·¥ä½œæµ](appendix/img_6.png)

***å›¾æ‰§è¡Œå™¨ç•Œé¢ - æŸ¥çœ‹å·¥ä½œæµç»“æœ***

![å›¾æ‰§è¡Œå™¨ç•Œé¢ - æŸ¥çœ‹å·¥ä½œæµç»“æœ](appendix/img_7.png)

### MCP æœåŠ¡å™¨é›†æˆ

é€šè¿‡ MCP æœåŠ¡å™¨å¢å¼ºæ‚¨çš„æ™ºèƒ½ä½“åŠŸèƒ½ã€‚æ¯ä¸ªæ™ºèƒ½ä½“èŠ‚ç‚¹å¯ä»¥åˆ©ç”¨å¤šä¸ª MCP æœåŠ¡å™¨è®¿é—®ä¸“ä¸šèƒ½åŠ›,å¦‚ç½‘ç»œæœç´¢ã€ä»£ç æ‰§è¡Œã€æ•°æ®åˆ†æç­‰ã€‚

***MCPç®¡ç†å™¨ç•Œé¢ - æœåŠ¡å™¨æ¦‚è§ˆ***

![MCPç®¡ç†å™¨ç•Œé¢ - æœåŠ¡å™¨æ¦‚è§ˆ](appendix/img.png)

***MCPç®¡ç†å™¨ç•Œé¢ - æœåŠ¡å™¨è¯¦ç»†é…ç½®***

![MCPç®¡ç†å™¨ç•Œé¢ - æœåŠ¡å™¨è¯¦ç»†é…ç½®](appendix/img_1.png)

***MCPç®¡ç†å™¨ç•Œé¢ - å·¥å…·èƒ½åŠ›ç®¡ç†***

![MCPç®¡ç†å™¨ç•Œé¢ - å·¥å…·èƒ½åŠ›ç®¡ç†](appendix/img_2.png)

### åµŒå¥—å›¾(å›¾å³èŠ‚ç‚¹)

é€šè¿‡å°†æ•´ä¸ªå›¾ç”¨ä½œæ›´å¤§å›¾ä¸­çš„èŠ‚ç‚¹æ¥æ„å»ºå±‚æ¬¡åŒ–æ™ºèƒ½ä½“ç³»ç»Ÿã€‚è¿™åˆ›å»ºäº†æ¨¡å—åŒ–ã€å¯é‡ç”¨çš„æ™ºèƒ½ä½“ç»„ä»¶,å®ç°äº†"ä¸–ç•Œä¸­çš„ä¸–ç•Œ"æ¶æ„ã€‚

> è¿™æ˜¯ä¸€ä¸ªå¥—å¨ƒåŠŸèƒ½ ğŸ˜‰

***åµŒå¥—å›¾ç•Œé¢ - åˆ†å±‚æ™ºèƒ½ä½“ç³»ç»Ÿè®¾è®¡***

![åµŒå¥—å›¾ç•Œé¢ - åˆ†å±‚æ™ºèƒ½ä½“ç³»ç»Ÿè®¾è®¡](appendix/img_4.png)

### å›¾åˆ° MCP æœåŠ¡å™¨çš„å¯¼å‡º

å°†ä»»ä½•å›¾å¯¼å‡ºä¸ºç‹¬ç«‹çš„ MCP æœåŠ¡å™¨,ä½¿å…¶å¯ä½œä¸ºå…¶ä»–æ™ºèƒ½ä½“æˆ–åº”ç”¨ç¨‹åºçš„å·¥å…·ä½¿ç”¨ã€‚æ­¤åŠŸèƒ½å°†æ‚¨çš„æ™ºèƒ½ä½“å›¾è½¬æ¢ä¸ºå¯é‡ç”¨çš„æœåŠ¡,å¯ç»„åˆæˆæ›´å¤§çš„ç³»ç»Ÿã€‚

> è¿™æ˜¯å¥—å¥—å¨ƒåŠŸèƒ½ ğŸ˜‰

***å¯¼å‡ºMCPæœåŠ¡å™¨ç•Œé¢ - å°†å›¾è½¬æ¢ä¸ºç‹¬ç«‹æœåŠ¡***

![å¯¼å‡ºMCPæœåŠ¡å™¨ç•Œé¢ - å°†å›¾è½¬æ¢ä¸ºç‹¬ç«‹æœåŠ¡](appendix/img_5.png)

***åœ¨Clineä¸­è°ƒç”¨ - ç¤ºä¾‹1***

![åœ¨Clineä¸­è°ƒç”¨](appendix/img_8.png)

***åœ¨Clineä¸­è°ƒç”¨ - ç¤ºä¾‹2***

![åœ¨Clineä¸­è°ƒç”¨](appendix/img_9.png)

---

## ğŸ“– å¼•ç”¨

å¦‚æœæ‚¨å‘ç° MCP Agent Graph å¯¹æ‚¨çš„ç ”ç©¶æˆ–å·¥ä½œæœ‰å¸®åŠ©,è¯·è€ƒè™‘å¼•ç”¨å®ƒ:

```bibtex
@misc{mcp_agent_graph_2025,
  title        = {mcp-agent-graph},
  author       = {Yan Yixin},
  howpublished = {\url{https://github.com/keta1930/mcp-agent-graph}},
  note         = {Accessed: 2025-04-24},
  year         = {2025}
}
```

## â­ æ˜Ÿæ ‡å†å²

[![æ˜Ÿæ ‡å†å²å›¾è¡¨](https://api.star-history.com/svg?repos=keta1930/mcp-agent-graph&type=Date)](https://www.star-history.com/#keta1930/mcp-agent-graph&Date)