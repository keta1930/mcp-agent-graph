# 用户记忆

存储您的偏好和信息，供所有 Agent 访问。

## 什么是用户记忆

用户记忆存储您的偏好、需求和上下文信息。与 Agent 记忆（仅特定 Agent 可访问）不同，用户记忆在您交互的所有 Agent 间共享。

**记忆归属：**

| 所有者 | 存储方式 | 访问权限 | 用途 |
|-------|----------|---------|------|
| 用户 | `owner: "user"` | 所有 Agent | 您的偏好、需求、背景 |
| Agent | `owner: "self"` | 仅该 Agent | Agent 学习的模式、经验 |

## 工作原理

当您将信息添加到用户记忆时，所有 Agent 都能访问。这避免了跨对话的重复说明。

**示例流程：**

```
您告诉代码 Agent：
"我偏好 snake_case 命名"
↓
存入用户记忆
↓
之后，审查 Agent 自动知道您的偏好
```

## 管理记忆

### 通过记忆管理器

从工作空间侧边栏打开记忆管理器，查看和管理您的记忆。

**可用操作：**

| 操作 | 说明 |
|------|------|
| **查看** | 查看所有分类和条目 |
| **添加** | 创建新分类或添加条目 |
| **编辑** | 更新现有内容 |
| **删除** | 删除条目或整个分类 |
| **导出** | 下载为 JSON、Markdown、TXT 或 YAML |
| **导入** | 上传内容，通过 AI 解析 |

### 通过 Agent 交互

Agent 在对话中学习您的偏好或需求时，可以将信息添加到您的记忆中。

**Agent 工具：**

| 工具 | Agent 的操作 |
|------|--------------|
| `add_memory` | 存储您提到的新偏好 |
| `get_memory` | 检索您存储的信息 |
| `update_memory` | 修正现有条目 |
| `delete_memory` | 删除过时信息 |

## 组织方式

记忆按您定义的分类组织。分类名称使用小写字母、数字、下划线和连字符（2-50 个字符）。

**常见分类：**

| 类型 | 示例 | 存储内容 |
|------|------|---------|
| 偏好 | `code_style`、`communication_tone` | 您喜欢的做事方式 |
| 需求 | `project_constraints`、`tech_stack` | 您的要求 |
| 背景 | `work_context`、`domain_knowledge` | 您的情况 |
| 目标 | `learning_objectives`、`project_goals` | 您努力的方向 |

## 存储格式

每条记忆条目包含：

| 字段 | 说明 | 示例 |
|------|------|------|
| `item_id` | 唯一标识符 | `20241128_a3f2` |
| `content` | 记忆文本（建议最多 300 字） | "偏好 snake_case 而非 camelCase" |
| `updated_at` | 最后修改日期 | `2024-11-28` |

## 导出与导入

### 导出格式

下载四种格式的记忆：

| 格式 | 用途 |
|------|------|
| JSON | 结构化数据备份 |
| YAML | 人类可读的结构化格式 |
| Markdown | 文档和笔记 |
| TXT | 简单查看的纯文本 |

### AI 导入

上传文本内容并选择模型。AI 解析您的文本，提取信息，自动组织成分类。

**导入流程：**

```
上传文本 → AI 分析 → 提取信息 → 创建分类 → 存储记忆
```

## 隐私与访问

- 您的记忆对您的账户是私有的
- 团队成员无法看到您的用户记忆
- Agent 仅通过您授权的工具访问记忆
- 记忆持久保存，直到您删除

## 相关链接

- [Agent 记忆](agent-memory.zh.md) - Agent 专属知识库
- [短期记忆](../short-term.zh.md) - 对话上下文
- [记忆工具](../../tools/memory-tool.zh.md) - 工具文档
