# 使用 Agent 构建复杂工作流

通过与 Graph Designer 对话协作，设计和创建复杂的多智能体工作流。

## 概览

复杂工作流将多个专业 Agent 通过结构化连接、条件路由和动态决策组合在一起。Graph Designer 使您能够通过自然对话构建这些工作流，无需手动配置。

## 什么是复杂工作流

| 特性 | 简单工作流 | 复杂工作流 |
|------|-----------|-----------|
| **节点** | 2-3 个线性步骤 | 多个具有不同角色的专业节点 |
| **流程** | 顺序执行 | 条件分支、循环、并行处理 |
| **逻辑** | 固定路由 | 基于结果的动态路径选择 |
| **工具** | 单一工具类别 | 多种工具类型（MCP、文件、Sub-agent、记忆） |
| **优化** | 单次执行 | 通过质量循环迭代改进 |

## 构建复杂工作流

Graph Designer 提供对话式工作流设计。无需手动配置，只需描述您的需求并与 Agent 协作创建工作流。

### 设计流程

| 阶段 | 发生什么 | 您的角色 |
|------|---------|---------|
| **描述目标** | 告诉 Graph Designer 您想自动化什么流程 | "我需要自动化代码审查和质量检查" |
| **澄清需求** | Agent 询问阶段、工具、质量门、分支逻辑 | 回答关于工作流细节的问题 |
| **审查草稿** | Agent 创建 JSON 配置文件 | 在文件系统中审查设计 |
| **迭代优化** | 提供改进反馈 | "为失败的检查添加重试循环" |
| **批准部署** | Agent 将工作流注册到系统 | 满意后确认 |

## 开始使用

要构建复杂工作流，使用 **Graph Designer** 工具，它提供：

- 包含所有配置选项的完整设计规范
- 通过对话引导设计流程
- 导出现有工作流以学习成功模式
- 基于您的反馈迭代优化
- 验证并注册到系统

**→ [学习如何使用 Graph Designer](../tools/graph-designer.zh.md)**

## 相关文档

- [Graph Designer](../tools/graph-designer.zh.md) - 通过对话设计工作流
- [Agent Handoffs](handoffs.zh.md) - 动态流程控制和条件路由
- [Graph 执行](execution.zh.md) - 工作流如何执行和传递数据
- [文件工具](../tools/file-tool.zh.md) - 管理工作流可交付成果
- [Sub-agent](../tools/sub-agent.zh.md) - 在节点内委托子任务
