<div class="max-w-4xl">
    <div class="mb-8">
        <h1 class="text-3xl font-bold text-gray-900 mb-4">AI Generation</h1>
        <p class="text-lg text-gray-600">Harness the power of AI to automatically generate graphs and MCP servers. MAG SDK includes intelligent generation capabilities that can create complete workflow graphs from natural language descriptions.</p>
    </div>

    <!-- AI Graph Generation ---->
    <div class="mb-8">
        <h2 class="text-2xl font-semibold text-gray-900 mb-4">
            <i class="fas fa-brain text-purple-600 mr-2"></i>
            AI Graph Generation
        </h2>
        <p class="text-gray-600 mb-4">Generate complete graphs from natural language descriptions. The AI understands complex workflows and creates optimized node structures:</p>

        <div class="bg-gray-50 rounded-lg p-4 border relative group mb-6">
            <button class="absolute top-2 right-2 p-2 text-gray-500 hover:text-gray-700 opacity-0 group-hover:opacity-100 transition-opacity" onclick="copyToClipboard('# Generate a graph using AI\nresult = mag.generate_graph(\n    description=\"Create a content analysis workflow that:\"\n                \"1. Takes input text\"\n                \"2. Analyzes sentiment\"\n                \"3. Extracts key topics\"\n                \"4. Generates a summary report\",\n    graph_name=\"content_analyzer\"\n)\n\nif result.get(\"success\"):\n    print(f\"Graph created: {result.get(\\'graph_name\\')}\") \n    print(f\"Nodes created: {len(result.get(\\'nodes\\', []))}\") \n    \n    # The graph is now available for use\n    graph_result = mag.run_graph(\n        name=\"content_analyzer\",\n        input_text=\"Sample text for analysis\"\n    )\nelse:\n    print(f\"Generation failed: {result.get(\\'error\\')}\") ')">
                <i class="fas fa-copy"></i>
            </button>
            <pre><code class="language-python"># Generate a graph using AI
result = mag.generate_graph(
    description="Create a content analysis workflow that:"
                "1. Takes input text"
                "2. Analyzes sentiment"
                "3. Extracts key topics"
                "4. Generates a summary report",
    graph_name="content_analyzer"
)

if result.get("success"):
    print(f"Graph created: {result.get('graph_name')}")
    print(f"Nodes created: {len(result.get('nodes', []))}")

    # The graph is now available for use
    graph_result = mag.run_graph(
        name="content_analyzer",
        input_text="Sample text for analysis"
    )
else:
    print(f"Generation failed: {result.get('error')}")</code></pre>
        </div>

        <!-- Generation Features ---->
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-4 mb-6">
            <div class="bg-blue-50 border border-blue-200 rounded-lg p-4">
                <h4 class="font-semibold text-gray-900 mb-2">
                    <i class="fas fa-magic text-blue-600 mr-2"></i>
                    Intelligent Node Creation
                </h4>
                <p class="text-sm text-gray-700">AI automatically determines the optimal number and type of nodes needed for your workflow</p>
            </div>
            <div class="bg-green-50 border border-green-200 rounded-lg p-4">
                <h4 class="font-semibold text-gray-900 mb-2">
                    <i class="fas fa-link text-green-600 mr-2"></i>
                    Smart Flow Design
                </h4>
                <p class="text-sm text-gray-700">Creates logical connections between nodes based on data flow and dependencies</p>
            </div>
            <div class="bg-purple-50 border border-purple-200 rounded-lg p-4">
                <h4 class="font-semibold text-gray-900 mb-2">
                    <i class="fas fa-cog text-purple-600 mr-2"></i>
                    Optimized Prompts
                </h4>
                <p class="text-sm text-gray-700">Generates effective prompts for each node to maximize performance</p>
            </div>
        </div>
    </div>

    <!-- Advanced Graph Generation ---->
    <div class="mb-8">
        <h2 class="text-2xl font-semibold text-gray-900 mb-4">
            <i class="fas fa-cogs text-orange-600 mr-2"></i>
            Advanced Graph Generation
        </h2>
        <p class="text-gray-600 mb-4">Customize the AI generation process with additional parameters and constraints:</p>

        <div class="bg-gray-50 rounded-lg p-4 border relative group mb-6">
            <button class="absolute top-2 right-2 p-2 text-gray-500 hover:text-gray-700 opacity-0 group-hover:opacity-100 transition-opacity" onclick="copyToClipboard('# Advanced graph generation with constraints\nresult = mag.generate_graph(\n    description=\"Build an e-commerce order processing system\",\n    graph_name=\"order_processor\",\n    max_nodes=8,              # Limit number of nodes\n    use_mcp=True,             # Enable MCP integration\n    domain=\"business\",        # Specify domain for better context\n    optimization=\"speed\"      # Optimize for execution speed\n)\n\n# Review the generated structure\nif result.get(\"success\"):\n    nodes = result.get(\"nodes\", [])\n    print(f\"Generated {len(nodes)} nodes:\")\n    \n    for i, node in enumerate(nodes, 1):\n        print(f\"{i}. {node.get(\\'name\\')}: {node.get(\\'description\\')}\") \n        \n    # Check if MCP tools were integrated\n    mcp_tools = result.get(\"mcp_tools\", [])\n    if mcp_tools:\n        print(f\"\\nIntegrated {len(mcp_tools)} MCP tools:\") \n        for tool in mcp_tools:\n            print(f\"  - {tool.get(\\'name\\')}\") ')">
                <i class="fas fa-copy"></i>
            </button>
            <pre><code class="language-python"># Advanced graph generation with constraints
result = mag.generate_graph(
    description="Build an e-commerce order processing system",
    graph_name="order_processor",
    max_nodes=8,              # Limit number of nodes
    use_mcp=True,             # Enable MCP integration
    domain="business",        # Specify domain for better context
    optimization="speed"      # Optimize for execution speed
)

# Review the generated structure
if result.get("success"):
    nodes = result.get("nodes", [])
    print(f"Generated {len(nodes)} nodes:")

    for i, node in enumerate(nodes, 1):
        print(f"{i}. {node.get('name')}: {node.get('description')}")

    # Check if MCP tools were integrated
    mcp_tools = result.get("mcp_tools", [])
    if mcp_tools:
        print(f"\nIntegrated {len(mcp_tools)} MCP tools:")
        for tool in mcp_tools:
            print(f"  - {tool.get('name')}")</code></pre>
        </div>

        <!-- Generation Parameters ---->
        <div class="mb-6">
            <h3 class="text-lg font-semibold text-gray-900 mb-3">Generation Parameters</h3>
            <div class="overflow-x-auto">
                <table class="min-w-full bg-white border border-gray-200 rounded-lg">
                    <thead class="bg-gray-50">
                        <tr>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Parameter</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Type</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Description</th>
                        </tr>
                    </thead>
                    <tbody class="divide-y divide-gray-200">
                        <tr>
                            <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">description</td>
                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">string</td>
                            <td class="px-6 py-4 text-sm text-gray-500">Natural language description of the desired workflow</td>
                        </tr>
                        <tr class="bg-gray-50">
                            <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">graph_name</td>
                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">string</td>
                            <td class="px-6 py-4 text-sm text-gray-500">Unique name for the generated graph</td>
                        </tr>
                        <tr>
                            <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">max_nodes</td>
                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">int</td>
                            <td class="px-6 py-4 text-sm text-gray-500">Maximum number of nodes to generate (default: 10)</td>
                        </tr>
                        <tr class="bg-gray-50">
                            <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">use_mcp</td>
                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">bool</td>
                            <td class="px-6 py-4 text-sm text-gray-500">Whether to integrate available MCP tools</td>
                        </tr>
                        <tr>
                            <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">domain</td>
                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">string</td>
                            <td class="px-6 py-4 text-sm text-gray-500">Domain context (business, technical, creative, etc.)</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <!-- AI MCP Server Generation ---->
    <div class="mb-8">
        <h2 class="text-2xl font-semibold text-gray-900 mb-4">
            <i class="fas fa-server text-green-600 mr-2"></i>
            AI MCP Server Generation
        </h2>
        <p class="text-gray-600 mb-4">Generate complete MCP servers with custom tools based on your requirements:</p>

        <div class="bg-gray-50 rounded-lg p-4 border relative group mb-6">
            <button class="absolute top-2 right-2 p-2 text-gray-500 hover:text-gray-700 opacity-0 group-hover:opacity-100 transition-opacity" onclick="copyToClipboard('# Generate an MCP server for file operations\nresult = mag.generate_mcp_server(\n    description=\"Create tools for file management including:\"\n                \"- Reading file contents\"\n                \"- Writing files\"\n                \"- Listing directories\"\n                \"- File search functionality\",\n    server_name=\"file_manager\",\n    tools_count=4\n)\n\nif result.get(\"success\"):\n    print(f\"MCP Server created: {result.get(\\'server_name\\')}\") \n    print(f\"Generated tools: {len(result.get(\\'tools\\', []))}\") \n    \n    # List the generated tools\n    for tool in result.get(\"tools\", []):\n        print(f\"  - {tool.get(\\'name\\')}: {tool.get(\\'description\\')}\") \n        \n    # The server is now available for use\n    print(f\"\\nServer endpoint: {result.get(\\'endpoint\\')}\") \nelse:\n    print(f\"Generation failed: {result.get(\\'error\\')}\") ')">
                <i class="fas fa-copy"></i>
            </button>
            <pre><code class="language-python"># Generate an MCP server for file operations
result = mag.generate_mcp_server(
    description="Create tools for file management including:"
                "- Reading file contents"
                "- Writing files"
                "- Listing directories"
                "- File search functionality",
    server_name="file_manager",
    tools_count=4
)

if result.get("success"):
    print(f"MCP Server created: {result.get('server_name')}")
    print(f"Generated tools: {len(result.get('tools', []))}")

    # List the generated tools
    for tool in result.get("tools", []):
        print(f"  - {tool.get('name')}: {tool.get('description')}")

    # The server is now available for use
    print(f"\nServer endpoint: {result.get('endpoint')}")
else:
    print(f"Generation failed: {result.get('error')}")</code></pre>
        </div>
    </div>

    <!-- Template-Based Generation ---->
    <div class="mb-8">
        <h2 class="text-2xl font-semibold text-gray-900 mb-4">
            <i class="fas fa-template text-indigo-600 mr-2"></i>
            Template-Based Generation
        </h2>
        <p class="text-gray-600 mb-4">Use predefined templates to quickly generate common graph patterns:</p>

        <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6">
            <!-- Data Processing Template ---->
            <div class="border border-gray-200 rounded-lg p-4">
                <h3 class="font-semibold text-gray-900 mb-3">
                    <i class="fas fa-database text-blue-500 mr-2"></i>
                    Data Processing Template
                </h3>
                <div class="bg-gray-50 rounded p-3 text-sm">
                    <pre><code class="language-python"># Generate data processing workflow
result = mag.generate_from_template(
    template_type="data_processing",
    graph_name="data_pipeline",
    config={
        "input_source": "csv",
        "processing_steps": [
            "clean", "transform", "analyze"
        ],
        "output_format": "json"
    }
)</code></pre>
                </div>
            </div>

            <!-- Content Creation Template ---->
            <div class="border border-gray-200 rounded-lg p-4">
                <h3 class="font-semibold text-gray-900 mb-3">
                    <i class="fas fa-pen text-purple-500 mr-2"></i>
                    Content Creation Template
                </h3>
                <div class="bg-gray-50 rounded p-3 text-sm">
                    <pre><code class="language-python"># Generate content creation workflow
result = mag.generate_from_template(
    template_type="content_creation",
    graph_name="blog_writer",
    config={
        "content_type": "blog_post",
        "include_seo": True,
        "word_count": 1000,
        "tone": "professional"
    }
)</code></pre>
                </div>
            </div>
        </div>

        <div class="bg-blue-50 border-l-4 border-blue-400 p-4 mb-6">
            <div class="flex">
                <div class="flex-shrink-0">
                    <i class="fas fa-info-circle text-blue-400"></i>
                </div>
                <div class="ml-3">
                    <p class="text-sm text-blue-700">
                        Available templates: <code>data_processing</code>, <code>content_creation</code>, <code>api_integration</code>, <code>analysis_pipeline</code>, <code>notification_system</code>
                    </p>
                </div>
            </div>
        </div>
    </div>

    <!-- Generation Best Practices ---->
    <div class="mb-8">
        <h2 class="text-2xl font-semibold text-gray-900 mb-4">Best Practices</h2>

        <div class="space-y-4">
            <!-- Practice 1 ---->
            <div class="border border-green-200 rounded-lg p-4 bg-green-50">
                <h4 class="font-semibold text-gray-900 mb-2">
                    <i class="fas fa-edit text-green-500 mr-2"></i>
                    Be Specific in Descriptions
                </h4>
                <p class="text-gray-700 text-sm mb-2">Provide detailed, step-by-step descriptions for better generation results:</p>
                <div class="bg-white rounded p-2 text-xs">
                    <div class="flex items-start mb-1">
                        <i class="fas fa-check text-green-500 mr-2 mt-0.5"></i>
                        <span class="text-green-700">Good: "Process customer orders by validating payment, checking inventory, and sending confirmation emails"</span>
                    </div>
                    <div class="flex items-start">
                        <i class="fas fa-times text-red-500 mr-2 mt-0.5"></i>
                        <span class="text-red-700">Poor: "Handle orders"</span>
                    </div>
                </div>
            </div>

            <!-- Practice 2 ---->
            <div class="border border-blue-200 rounded-lg p-4 bg-blue-50">
                <h4 class="font-semibold text-gray-900 mb-2">
                    <i class="fas fa-test-tube text-blue-500 mr-2"></i>
                    Test Generated Graphs
                </h4>
                <p class="text-gray-700 text-sm mb-2">Always test generated graphs with sample data before production use:</p>
                <div class="bg-white rounded p-2 text-xs font-mono border">
                    # Test with simple input first<br>
                    test_result = mag.run_graph(<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;name="generated_graph",<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;input_text="simple test input"<br>
                    )
                </div>
            </div>

            <!-- Practice 3 ---->
            <div class="border border-purple-200 rounded-lg p-4 bg-purple-50">
                <h4 class="font-semibold text-gray-900 mb-2">
                    <i class="fas fa-fine-tune text-purple-500 mr-2"></i>
                    Iterate and Refine
                </h4>
                <p class="text-gray-700 text-sm mb-2">Use generation results as starting points and refine manually if needed:</p>
                <div class="bg-white rounded p-2 text-xs font-mono border">
                    # Review generated structure<br>
                    graph_config = mag.get_graph_config("my_graph")<br>
                    # Make manual adjustments<br>
                    mag.update_graph_config("my_graph", updated_config)
                </div>
            </div>
        </div>
    </div>

    <!-- Generation Examples ---->
    <div class="mb-8">
        <h2 class="text-2xl font-semibold text-gray-900 mb-4">Common Generation Examples</h2>

        <div class="grid grid-cols-1 gap-6">
            <!-- Example 1: Research Assistant ---->
            <div class="border border-gray-200 rounded-lg p-4">
                <h3 class="font-semibold text-gray-900 mb-3">
                    <i class="fas fa-search text-blue-500 mr-2"></i>
                    Research Assistant Graph
                </h3>
                <div class="bg-gray-50 rounded p-4">
                    <pre><code class="language-python"># Generate a research assistant
result = mag.generate_graph(
    description="""
    Create a research assistant that:
    1. Takes a research topic as input
    2. Searches for relevant information online
    3. Summarizes key findings
    4. Identifies credible sources
    5. Generates a structured research report
    6. Suggests follow-up questions
    """,
    graph_name="research_assistant",
    max_nodes=6,
    use_mcp=True,  # Enable web search tools
    domain="academic"
)</code></pre>
                </div>
            </div>

            <!-- Example 2: Customer Support ---->
            <div class="border border-gray-200 rounded-lg p-4">
                <h3 class="font-semibold text-gray-900 mb-3">
                    <i class="fas fa-headset text-green-500 mr-2"></i>
                    Customer Support System
                </h3>
                <div class="bg-gray-50 rounded p-4">
                    <pre><code class="language-python"># Generate customer support workflow
result = mag.generate_graph(
    description="""
    Build a customer support system that:
    1. Analyzes customer inquiry intent
    2. Checks knowledge base for solutions
    3. Escalates complex issues to human agents
    4. Generates personalized responses
    5. Updates customer records
    6. Sends follow-up satisfaction surveys
    """,
    graph_name="customer_support",
    optimization="accuracy",
    domain="business"
)</code></pre>
                </div>
            </div>
        </div>
    </div>

    <!-- Troubleshooting AI Generation ---->
    <div class="bg-gradient-to-r from-yellow-50 to-orange-50 rounded-lg p-6 border border-yellow-200">
        <h3 class="text-lg font-semibold text-gray-900 mb-3">
            <i class="fas fa-wrench text-yellow-600 mr-2"></i>
            Troubleshooting AI Generation
        </h3>
        <p class="text-gray-700 mb-4">Common issues and solutions when using AI generation:</p>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div class="bg-white rounded-lg p-4 border border-yellow-100">
                <h4 class="font-medium text-gray-900 mb-2">
                    <i class="fas fa-exclamation-triangle text-red-500 mr-2"></i>
                    Generation Fails
                </h4>
                <ul class="text-sm text-gray-600 space-y-1">
                    <li>• Check description clarity and length</li>
                    <li>• Ensure graph name is unique</li>
                    <li>• Verify model service is running</li>
                    <li>• Try reducing max_nodes parameter</li>
                </ul>
            </div>

            <div class="bg-white rounded-lg p-4 border border-yellow-100">
                <h4 class="font-medium text-gray-900 mb-2">
                    <i class="fas fa-cog text-blue-500 mr-2"></i>
                    Suboptimal Results
                </h4>
                <ul class="text-sm text-gray-600 space-y-1">
                    <li>• Add more specific domain context</li>
                    <li>• Break complex workflows into steps</li>
                    <li>• Use template-based generation</li>
                    <li>• Manually refine generated nodes</li>
                </ul>
            </div>
        </div>
    </div>
</div>